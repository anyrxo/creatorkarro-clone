import React from 'react'
import Link from 'next/link'
import Head from 'next/head'

// Advanced SEO Metadata Export
export const metadata = {
  title: "AI Automation Workflows: Integrate GPT with N8N",
  description: "ai automation, n8n ai integration, gpt automation - Expert guide from the creators of N8N AI Automations with 127K+ students and $2.7M+ in student revenue",
  keywords: ["ai automation","n8n ai integration","gpt automation","ai workflow automation","n8n ai automations","iimagined.ai","expert guide","proven strategies"],
  authors: [{ name: "IImagined.ai Team", url: "https://iimagined.ai" }],
  creator: "IImagined.ai",
  publisher: "IImagined.ai", 
  category: "Technology",
  openGraph: {
    title: "AI Automation Workflows: Integrate GPT with N8N",
    description: "ai automation, n8n ai integration, gpt automation - Expert guide from the creators of N8N AI Automations",
    url: "https://iimagined.ai/blog/ai-automation-workflows-integrate-gpt-with-n8n",
    siteName: "IImagined.ai",
    type: "article",
    publishedTime: "2025-08-05T07:10:42.598Z",
    modifiedTime: "2025-08-05T07:10:42.598Z",
    authors: ["IImagined.ai Team"],
    tags: ["ai automation","n8n ai integration","gpt automation","ai workflow automation"],
    images: [{
      url: "https://iimagined.ai/images/blog/ai-automation-workflows-integrate-gpt-with-n8n-og.jpg",
      width: 1200,
      height: 630,
      alt: "AI Automation Workflows: Integrate GPT with N8N",
      type: "image/jpeg"
    }],
    locale: "en_US"
  },
  twitter: {
    card: "summary_large_image",
    site: "@iimagined_ai",
    creator: "@iimagined_ai",
    title: "AI Automation Workflows: Integrate GPT with N8N",
    description: "ai automation, n8n ai integration, gpt automation - Expert guide from the creators of N8N AI Automations",
    images: [{
      url: "https://iimagined.ai/images/blog/ai-automation-workflows-integrate-gpt-with-n8n-og.jpg",
      alt: "AI Automation Workflows: Integrate GPT with N8N"
    }]
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large", 
      "max-snippet": -1
    }
  },
  alternates: {
    canonical: "https://iimagined.ai/blog/ai-automation-workflows-integrate-gpt-with-n8n",
    types: {
      "application/rss+xml": [
        { url: "https://iimagined.ai/rss.xml", title: "IImagined.ai RSS Feed" }
      ]
    }
  }
}

export default function AiAutomationWorkflowsIntegrateGptWithN8n() {
  // Advanced JSON-LD Structured Data
  const structuredData = {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Article",
        "@id": "https://iimagined.ai/blog/ai-automation-workflows-integrate-gpt-with-n8n#article",
        "headline": "AI Automation Workflows: Integrate GPT with N8N",
        "description": "ai automation, n8n ai integration, gpt automation - Expert guide from the creators of N8N AI Automations",
        "datePublished": "2025-08-05T07:10:42.598Z",
        "dateModified": "2025-08-05T07:10:42.598Z",
        "author": {
          "@type": "Organization",
          "@id": "https://iimagined.ai#organization",
          "name": "IImagined.ai Team",
          "url": "https://iimagined.ai"
        },
        "publisher": {
          "@type": "Organization", 
          "@id": "https://iimagined.ai#organization"
        },
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://iimagined.ai/blog/ai-automation-workflows-integrate-gpt-with-n8n"
        },
        "image": {
          "@type": "ImageObject",
          "url": "https://iimagined.ai/images/blog/ai-automation-workflows-integrate-gpt-with-n8n-og.jpg",
          "width": 1200,
          "height": 630
        },
        "keywords": "ai automation, n8n ai integration, gpt automation, ai workflow automation",
        "articleSection": "AI Integration",
        "about": {
          "@type": "Course",
          "name": "N8N AI Automations",
          "description": "Advanced Workflow Automation with AI Integration",
          "provider": {
            "@type": "Organization",
            "name": "IImagined.ai"
          }
        }
      }
    ]
  };

  return (<div className="min-h-screen bg-dark">
        <script
          type="application/ld+json"
          dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}
        />
        
        <article className="py-16">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="max-w-4xl mx-auto">
              
              {/* Breadcrumbs */}
              <nav className="flex mb-8 text-sm" aria-label="Breadcrumb">
                <ol className="inline-flex items-center space-x-1 md:space-x-3">
                  <li className="inline-flex items-center">
                    <Link href="/" className="text-gray-400 hover:text-white transition-colors">
                      Home
                    </Link>
                  </li>
                  <li>
                    <div className="flex items-center">
                      <span className="mx-2 text-gray-500">/</span>
                      <Link href="/blog" className="text-gray-400 hover:text-white transition-colors">
                        Blog
                      </Link>
                    </div>
                  </li>
                  <li aria-current="page">
                    <div className="flex items-center">
                      <span className="mx-2 text-gray-500">/</span>
                      <span className="text-gray-300">AI Automation Workflows: Integrate GPT with N8N</span>
                    </div>
                  </li>
                </ol>
              </nav>
              
              <header className="mb-12">
                <div className="mb-6">
                  <time dateTime="2025-08-05" className="text-sm text-blue-400 font-medium">
                    August 5, 2025
                  </time>
                </div>
                
                <h1 className="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
                  AI Automation Workflows: Integrate GPT with N8N
                </h1>
                
                <p className="text-xl text-gray-300 mb-8 leading-relaxed">
                  Expert guide from the creators of N8N AI Automations - trusted by 127K+ students who've generated $2.7M+ in revenue.
                </p>
                
                <div className="flex flex-wrap gap-2 mb-8">
                  <span className="bg-blue-600/20 text-blue-300 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600/30 transition-colors">ai automation</span>
                  <span className="bg-blue-600/20 text-blue-300 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600/30 transition-colors">n8n ai integration</span>
                  <span className="bg-blue-600/20 text-blue-300 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600/30 transition-colors">gpt automation</span>
                  <span className="bg-blue-600/20 text-blue-300 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600/30 transition-colors">ai workflow automation</span>
                </div>
                
                <div className="flex items-center space-x-6 text-sm text-gray-400 pb-8 border-b border-gray-700">
                  <div className="flex items-center space-x-2">
                    <span>üìö</span>
                    <span>Expert Guide</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <span>üéØ</span>
                    <span>AI Integration</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <span>‚≠ê</span>
                    <span>127K+ Students</span>
                  </div>
                </div>
              </header>
              
              <div className="prose prose-lg prose-invert max-w-none">

                {/* Introduction */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Introduction: The Power of AI-Driven Automation</h2>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    In 2025, the automation landscape has fundamentally shifted. Gone are the days when automation meant simple trigger-action sequences.
                    Today's businesses require intelligent systems that can make decisions, understand context, and adapt to changing conditions.
                    This is where integrating GPT (and other AI models) with N8N creates unprecedented opportunities.
                  </p>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    N8N's visual workflow builder combined with GPT's natural language understanding creates a powerful automation platform that can
                    handle complex business logic, customer interactions, content generation, data analysis, and much more. Throughout this guide,
                    you'll learn how to build production-ready AI workflows that solve real business problems.
                  </p>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    Whether you're automating customer support, generating personalized content, analyzing data patterns, or building intelligent
                    routing systems, this comprehensive tutorial will give you the technical knowledge and practical examples you need to succeed.
                  </p>
                </div>

                {/* Understanding the Architecture */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Understanding AI + N8N Architecture</h2>

                  <h3 className="text-2xl font-bold text-white mb-4">How N8N Communicates with AI Models</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    N8N provides several methods to integrate with AI services like OpenAI's GPT, Anthropic's Claude, and other LLMs:
                  </p>

                  <ul className="list-disc list-inside text-gray-300 space-y-2 mb-6">
                    <li><strong>HTTP Request Node:</strong> Direct API calls to AI providers (most flexible)</li>
                    <li><strong>OpenAI Node:</strong> Pre-built integration for OpenAI services (easiest to start)</li>
                    <li><strong>AI Agent Nodes:</strong> Advanced nodes that combine multiple AI capabilities</li>
                    <li><strong>Custom Code Nodes:</strong> JavaScript/Python for complex AI orchestration</li>
                  </ul>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h4 className="text-lg font-semibold text-blue-300 mb-3">Workflow Architecture Pattern:</h4>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`Trigger ‚Üí Data Preparation ‚Üí AI Processing ‚Üí Response Handling ‚Üí Action

Example Flow:
Webhook Trigger
  ‚Üì (receives customer email)
Extract/Clean Data
  ‚Üì (parse email content, metadata)
GPT Analysis
  ‚Üì (classify intent, generate response)
Decision Logic
  ‚Üì (route based on AI output)
Multiple Actions
  ‚Üì (send email, update CRM, log data)`}
                    </pre>
                  </div>
                </div>

                {/* Tutorial 1: Basic GPT Integration */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Tutorial 1: Your First GPT + N8N Workflow</h2>

                  <h3 className="text-2xl font-bold text-white mb-4">Building an Intelligent Customer Support Classifier</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    Let's build a practical workflow that receives customer inquiries via webhook, uses GPT to classify the intent
                    and urgency, then routes the ticket appropriately.
                  </p>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Step 1: Set Up the Webhook Trigger</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <p className="text-gray-300 mb-4">In N8N, add a Webhook node with these settings:</p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`{
  "httpMethod": "POST",
  "path": "customer-support",
  "responseMode": "onReceived",
  "options": {
    "rawBody": false
  }
}`}
                    </pre>
                    <p className="text-gray-400 text-sm mt-4">
                      This webhook will receive POST requests with customer inquiry data at:
                      https://your-n8n-instance.com/webhook/customer-support
                    </p>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Step 2: Prepare Data for GPT</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <p className="text-gray-300 mb-4">Add a Function node to structure the data for GPT analysis:</p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Extract and clean customer inquiry data
const customerEmail = $input.item.json.email;
const subject = $input.item.json.subject;
const message = $input.item.json.message;
const timestamp = new Date().toISOString();

// Create structured prompt for GPT
const prompt = \`Analyze this customer support inquiry and provide:
1. Primary Category (billing, technical, general, urgent)
2. Urgency Level (low, medium, high, critical)
3. Recommended Action
4. Key Topics (as array)

Customer Email: \${customerEmail}
Subject: \${subject}
Message: \${message}

Respond in JSON format only.\`;

return {
  json: {
    customerEmail,
    subject,
    message,
    timestamp,
    prompt,
    originalData: $input.item.json
  }
};`}
                    </pre>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Step 3: Call OpenAI GPT API</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <p className="text-gray-300 mb-4">Add an HTTP Request node to call OpenAI:</p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`{
  "method": "POST",
  "url": "https://api.openai.com/v1/chat/completions",
  "authentication": "headerAuth",
  "headerAuth": {
    "name": "Authorization",
    "value": "Bearer YOUR_OPENAI_API_KEY"
  },
  "body": {
    "model": "gpt-4",
    "messages": [
      {
        "role": "system",
        "content": "You are a customer support classification AI. Always respond with valid JSON."
      },
      {
        "role": "user",
        "content": "={{ $json.prompt }}"
      }
    ],
    "temperature": 0.3,
    "response_format": { "type": "json_object" }
  }
}`}
                    </pre>
                    <p className="text-gray-400 text-sm mt-4">
                      Note: Store your API key in N8N's credentials manager for security. The temperature of 0.3 ensures consistent,
                      deterministic responses for classification tasks.
                    </p>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Step 4: Parse and Route Response</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <p className="text-gray-300 mb-4">Add a Function node to parse GPT's response:</p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Parse GPT response
const gptResponse = JSON.parse(
  $input.item.json.choices[0].message.content
);

// Merge with original data
return {
  json: {
    ...gptResponse,
    customerEmail: $('Function').item.json.customerEmail,
    subject: $('Function').item.json.subject,
    message: $('Function').item.json.message,
    timestamp: $('Function').item.json.timestamp,
    aiProcessingTime: new Date().toISOString()
  }
};`}
                    </pre>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Step 5: Add Conditional Routing</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <p className="text-gray-300 mb-4">Use a Switch node to route based on urgency:</p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`Switch Routes:
- Route 0 (Critical): {{ $json.urgencyLevel === 'critical' }}
- Route 1 (High): {{ $json.urgencyLevel === 'high' }}
- Route 2 (Medium): {{ $json.urgencyLevel === 'medium' }}
- Route 3 (Low): {{ $json.urgencyLevel === 'low' }}`}
                    </pre>
                    <p className="text-gray-400 text-sm mt-4">
                      Each route can trigger different actions: critical tickets go to Slack immediately,
                      high urgency creates priority tickets, etc.
                    </p>
                  </div>
                </div>

                {/* Tutorial 2: Advanced AI Workflows */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Tutorial 2: Advanced AI Workflow Patterns</h2>

                  <h3 className="text-2xl font-bold text-white mb-4">Multi-Step AI Processing with Context</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    Advanced workflows often require multiple AI calls with context preservation. Here's how to build
                    a content generation system that analyzes topics, researches context, then generates tailored content.
                  </p>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h4 className="text-lg font-semibold text-blue-300 mb-3">Pattern: AI Chain Processing</h4>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`Workflow Structure:
1. Topic Analysis (GPT-4)
   ‚Üì Extract key themes, target audience, content goals
2. Research Phase (GPT-4 + Web Search)
   ‚Üì Gather relevant information, current trends
3. Outline Generation (GPT-4)
   ‚Üì Structure content with sections
4. Content Writing (GPT-4)
   ‚Üì Generate full content with context
5. Quality Check (GPT-4)
   ‚Üì Review for accuracy, tone, completeness`}
                    </pre>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Implementing Context-Aware AI Calls</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Function node: Build context from previous AI outputs
const topic = $('Webhook').item.json.topic;
const analysis = $('TopicAnalysis').item.json;
const research = $('Research').item.json;

// Create context-rich prompt
const contextualPrompt = \`You are creating content about: \${topic}

AUDIENCE ANALYSIS:
\${JSON.stringify(analysis.targetAudience, null, 2)}

KEY THEMES:
\${analysis.themes.join(', ')}

RESEARCH INSIGHTS:
\${research.insights.map(i => \`- \${i}\`).join('\\n')}

Now write a comprehensive 1000-word article that addresses these
themes while incorporating the research insights. Use an engaging,
professional tone appropriate for the target audience.\`;

return {
  json: {
    prompt: contextualPrompt,
    metadata: {
      topic,
      analysisId: analysis.id,
      researchId: research.id,
      timestamp: new Date().toISOString()
    }
  }
};`}
                    </pre>
                  </div>
                </div>

                {/* Tutorial 3: Error Handling and Optimization */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Tutorial 3: Production-Ready AI Workflows</h2>

                  <h3 className="text-2xl font-bold text-white mb-4">Error Handling and Retry Logic</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    AI APIs can fail for various reasons: rate limits, timeouts, invalid responses, or service outages.
                    Production workflows must handle these gracefully.
                  </p>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h4 className="text-lg font-semibold text-blue-300 mb-3">Implementing Retry Logic:</h4>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Configure on HTTP Request node
{
  "retry": {
    "maxRetries": 3,
    "retryInterval": 2000
  },
  "timeout": 30000
}

// Add error handling in Function node
try {
  const response = $input.item.json;

  if (!response.choices || !response.choices[0]) {
    throw new Error('Invalid AI response format');
  }

  const content = response.choices[0].message.content;

  // Validate JSON if expected
  if (response.response_format?.type === 'json_object') {
    JSON.parse(content); // Throws if invalid
  }

  return { json: { success: true, content } };

} catch (error) {
  return {
    json: {
      success: false,
      error: error.message,
      timestamp: new Date().toISOString(),
      requiresManualReview: true
    }
  };
}`}
                    </pre>
                  </div>

                  <h3 className="text-2xl font-bold text-white mb-4">Cost Optimization Strategies</h3>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <ul className="list-disc list-inside text-gray-300 space-y-3">
                      <li>
                        <strong>Token Management:</strong> Use GPT-3.5-turbo for simple tasks, reserve GPT-4 for complex reasoning.
                        Track token usage with a Function node after each AI call.
                      </li>
                      <li>
                        <strong>Response Caching:</strong> Cache common AI responses in Redis or N8N's database to avoid redundant API calls.
                        Especially useful for classification or FAQ-style queries.
                      </li>
                      <li>
                        <strong>Prompt Optimization:</strong> Shorter, more specific prompts reduce token costs. Test different prompt structures
                        to find the most efficient version that maintains quality.
                      </li>
                      <li>
                        <strong>Batch Processing:</strong> When possible, batch multiple items into a single AI request rather than making
                        individual calls for each item.
                      </li>
                    </ul>
                  </div>

                  <h4 className="text-xl font-semibold text-blue-300 mb-3">Token Tracking Implementation:</h4>
                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Function node: Track and log token usage
const response = $input.item.json;
const usage = response.usage;

// Calculate cost (example rates)
const costPer1kTokens = {
  'gpt-4': { prompt: 0.03, completion: 0.06 },
  'gpt-3.5-turbo': { prompt: 0.0015, completion: 0.002 }
};

const model = response.model;
const promptCost = (usage.prompt_tokens / 1000) * costPer1kTokens[model].prompt;
const completionCost = (usage.completion_tokens / 1000) * costPer1kTokens[model].completion;
const totalCost = promptCost + completionCost;

return {
  json: {
    ...response,
    costTracking: {
      promptTokens: usage.prompt_tokens,
      completionTokens: usage.completion_tokens,
      totalTokens: usage.total_tokens,
      estimatedCost: totalCost.toFixed(4),
      model,
      timestamp: new Date().toISOString()
    }
  }
};`}
                    </pre>
                  </div>
                </div>

                {/* Real-World Use Cases */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Real-World AI + N8N Use Cases</h2>

                  <div className="bg-gradient-to-r from-blue-600/10 to-purple-600/10 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-bold text-white mb-4">1. Intelligent Email Response System</h3>
                    <p className="text-gray-300 mb-4">
                      Monitor Gmail/Outlook inbox ‚Üí GPT classifies email type ‚Üí Generate contextual draft response ‚Üí
                      Human reviews ‚Üí Send or schedule
                    </p>
                    <p className="text-gray-400 text-sm">
                      <strong>Key Benefit:</strong> Reduces email response time by 70%, ensures consistent tone and messaging
                    </p>
                  </div>

                  <div className="bg-gradient-to-r from-blue-600/10 to-purple-600/10 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-bold text-white mb-4">2. Content Personalization Engine</h3>
                    <p className="text-gray-300 mb-4">
                      User visits website ‚Üí Webhook triggers ‚Üí GPT analyzes user behavior/history ‚Üí Generates personalized
                      content recommendations ‚Üí Updates CMS dynamically
                    </p>
                    <p className="text-gray-400 text-sm">
                      <strong>Key Benefit:</strong> Increases engagement rates by 40%, improves conversion through personalization
                    </p>
                  </div>

                  <div className="bg-gradient-to-r from-blue-600/10 to-purple-600/10 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-bold text-white mb-4">3. Data Analysis & Reporting Automation</h3>
                    <p className="text-gray-300 mb-4">
                      Scheduled trigger ‚Üí Pull data from multiple sources ‚Üí GPT analyzes trends and anomalies ‚Üí
                      Generates executive summary ‚Üí Sends formatted report
                    </p>
                    <p className="text-gray-400 text-sm">
                      <strong>Key Benefit:</strong> Saves 10+ hours per week on reporting, provides actionable insights automatically
                    </p>
                  </div>

                  <div className="bg-gradient-to-r from-blue-600/10 to-purple-600/10 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-bold text-white mb-4">4. Social Media Content Pipeline</h3>
                    <p className="text-gray-300 mb-4">
                      RSS feed monitor ‚Üí GPT generates unique perspective on trending topics ‚Üí Creates platform-specific
                      content (Twitter, LinkedIn, Instagram) ‚Üí Schedules posts ‚Üí Monitors engagement
                    </p>
                    <p className="text-gray-400 text-sm">
                      <strong>Key Benefit:</strong> Maintains consistent social presence, adapts content to platform best practices
                    </p>
                  </div>
                </div>

                {/* Troubleshooting Section */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Troubleshooting Common Issues</h2>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-semibold text-red-300 mb-4">Issue: "Invalid JSON Response from GPT"</h3>
                    <p className="text-gray-300 mb-3"><strong>Cause:</strong> GPT sometimes adds markdown formatting or explanatory text</p>
                    <p className="text-gray-300 mb-3"><strong>Solution:</strong></p>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Add this parsing logic
let content = response.choices[0].message.content;

// Remove markdown code blocks if present
content = content.replace(/\`\`\`json\\n?/g, '').replace(/\`\`\`\\n?/g, '');

// Extract JSON if embedded in text
const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);
if (jsonMatch) {
  content = jsonMatch[0];
}

const parsed = JSON.parse(content);`}
                    </pre>
                  </div>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-semibold text-red-300 mb-4">Issue: "Rate Limit Exceeded"</h3>
                    <p className="text-gray-300 mb-3"><strong>Cause:</strong> Too many API requests in short timeframe</p>
                    <p className="text-gray-300 mb-3"><strong>Solutions:</strong></p>
                    <ul className="list-disc list-inside text-gray-300 space-y-2">
                      <li>Implement exponential backoff retry strategy</li>
                      <li>Add a rate limiter node before AI calls (limit to X requests per minute)</li>
                      <li>Use N8N's built-in rate limiting features</li>
                      <li>Consider upgrading your OpenAI tier for higher limits</li>
                    </ul>
                  </div>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h3 className="text-xl font-semibold text-red-300 mb-4">Issue: "Inconsistent AI Responses"</h3>
                    <p className="text-gray-300 mb-3"><strong>Cause:</strong> High temperature settings or vague prompts</p>
                    <p className="text-gray-300 mb-3"><strong>Solutions:</strong></p>
                    <ul className="list-disc list-inside text-gray-300 space-y-2">
                      <li>Lower temperature to 0.1-0.3 for consistent outputs</li>
                      <li>Use structured prompts with clear formatting requirements</li>
                      <li>Add example outputs in your system message</li>
                      <li>Use response_format: json_object when possible</li>
                    </ul>
                  </div>
                </div>

                {/* Best Practices */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Best Practices for Production AI Workflows</h2>

                  <div className="grid md:grid-cols-2 gap-6">
                    <div className="bg-gray-800/30 p-6 rounded-lg">
                      <h3 className="text-lg font-semibold text-green-300 mb-3">Security</h3>
                      <ul className="list-disc list-inside text-gray-300 space-y-2 text-sm">
                        <li>Store API keys in N8N credentials manager</li>
                        <li>Use environment variables for sensitive data</li>
                        <li>Implement input validation to prevent prompt injection</li>
                        <li>Sanitize user inputs before sending to AI</li>
                        <li>Log AI interactions for audit trails</li>
                      </ul>
                    </div>

                    <div className="bg-gray-800/30 p-6 rounded-lg">
                      <h3 className="text-lg font-semibold text-blue-300 mb-3">Performance</h3>
                      <ul className="list-disc list-inside text-gray-300 space-y-2 text-sm">
                        <li>Cache frequent AI responses</li>
                        <li>Use webhooks instead of polling when possible</li>
                        <li>Implement parallel processing for independent tasks</li>
                        <li>Set appropriate timeouts (30-60s for AI calls)</li>
                        <li>Monitor workflow execution times</li>
                      </ul>
                    </div>

                    <div className="bg-gray-800/30 p-6 rounded-lg">
                      <h3 className="text-lg font-semibold text-purple-300 mb-3">Reliability</h3>
                      <ul className="list-disc list-inside text-gray-300 space-y-2 text-sm">
                        <li>Always include error handling</li>
                        <li>Implement retry logic with exponential backoff</li>
                        <li>Create fallback workflows for AI failures</li>
                        <li>Send alerts for critical workflow failures</li>
                        <li>Test workflows with edge cases</li>
                      </ul>
                    </div>

                    <div className="bg-gray-800/30 p-6 rounded-lg">
                      <h3 className="text-lg font-semibold text-yellow-300 mb-3">Maintainability</h3>
                      <ul className="list-disc list-inside text-gray-300 space-y-2 text-sm">
                        <li>Document your workflows with notes</li>
                        <li>Use descriptive node names</li>
                        <li>Version control workflow JSON exports</li>
                        <li>Create reusable sub-workflows</li>
                        <li>Monitor costs and set budget alerts</li>
                      </ul>
                    </div>
                  </div>
                </div>

                {/* Advanced Techniques */}
                <div className="mb-12">
                  <h2 className="text-3xl font-bold text-white mb-6">Advanced Techniques</h2>

                  <h3 className="text-2xl font-bold text-white mb-4">Multi-Model AI Strategy</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    Don't rely on a single AI model. Different models excel at different tasks. Use GPT-4 for complex reasoning,
                    GPT-3.5 for simple tasks, Claude for long-form content, and specialized models for specific domains.
                  </p>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <h4 className="text-lg font-semibold text-blue-300 mb-3">Example: Smart Model Router</h4>
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// Function node: Route to appropriate AI model
const task = $input.item.json;
const complexity = task.estimatedComplexity || 'medium';
const length = task.content?.length || 0;

let modelConfig;

if (complexity === 'high' || length > 2000) {
  modelConfig = {
    model: 'gpt-4',
    endpoint: 'openai',
    maxTokens: 4000
  };
} else if (task.type === 'classification') {
  modelConfig = {
    model: 'gpt-3.5-turbo',
    endpoint: 'openai',
    maxTokens: 500,
    temperature: 0.2
  };
} else {
  modelConfig = {
    model: 'gpt-3.5-turbo',
    endpoint: 'openai',
    maxTokens: 1500
  };
}

return { json: { ...task, modelConfig } };`}
                    </pre>
                  </div>

                  <h3 className="text-2xl font-bold text-white mb-4">Streaming AI Responses</h3>
                  <p className="text-gray-300 leading-relaxed mb-4">
                    For user-facing applications, streaming responses provide a better experience. Here's how to implement
                    streaming in N8N workflows that feed into real-time interfaces.
                  </p>

                  <div className="bg-gray-800/50 p-6 rounded-lg mb-6">
                    <pre className="text-sm text-gray-300 overflow-x-auto">
{`// HTTP Request node configuration for streaming
{
  "method": "POST",
  "url": "https://api.openai.com/v1/chat/completions",
  "body": {
    "model": "gpt-4",
    "messages": [...],
    "stream": true
  }
}

// Handle stream in Function node
const chunks = [];
const stream = $input.item.binary.data;

// Process stream chunks
for await (const chunk of stream) {
  const data = chunk.toString();
  if (data.startsWith('data: ')) {
    const json = JSON.parse(data.slice(6));
    if (json.choices[0].delta.content) {
      chunks.push(json.choices[0].delta.content);
      // Emit to websocket or SSE endpoint
    }
  }
}

return { json: { fullResponse: chunks.join('') } };`}
                    </pre>
                  </div>
                </div>

                {/* Course CTA */}
                <div className="bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 rounded-2xl p-8 mb-8">
                  <div className="text-center">
                    <h3 className="text-2xl font-bold text-white mb-4">Take Your AI Automation Skills Further</h3>
                    <p className="text-lg text-gray-300 mb-6">
                      Want to learn more advanced N8N workflows with AI integration? Our comprehensive course covers these topics
                      and much more, with video tutorials, downloadable workflows, and real-world projects.
                    </p>
                    <Link href="/n8n-ai-automations" className="inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:shadow-lg transition-all duration-300">
                      Explore N8N AI Automations Course
                    </Link>
                  </div>
                </div>

                {/* Related Articles */}
                <div className="mt-8">
                  <h3 className="text-2xl font-bold text-white mb-8">Related Expert Guides</h3>
                  <div className="grid md:grid-cols-2 gap-6">
                    <Link href="/expert-content-generator" className="group block p-6 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors border border-gray-700 hover:border-gray-600">
                      <h4 className="font-semibold text-white group-hover:text-blue-300 transition-colors mb-2">
                        Expert Content Generator
                      </h4>
                      <p className="text-gray-400 text-sm">
                        Generate expert-level content for social media authority building.
                      </p>
                    </Link>
                    <Link href="/courses" className="group block p-6 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors border border-gray-700 hover:border-gray-600">
                      <h4 className="font-semibold text-white group-hover:text-blue-300 transition-colors mb-2">
                        All Courses
                      </h4>
                      <p className="text-gray-400 text-sm">
                        Explore our complete course library for mastering ai integration.
                      </p>
                    </Link>
                  </div>
                </div>
                
              </div>
              
            </div>
          </div>
        </article>
      </div>
      )
}